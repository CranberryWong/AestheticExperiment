{% extends "main_base.html" %} {% block main %} {% import uuid %} {% if current_user.decode('utf8') == userName %}

<div class="row no-gutters ml-0">
    <!--Left Navigation bar-->
    <div class="col-md-3 shadow-sm left-nav-bar-blog px-4 pb-5">
        <div class="d-flex justify-content-center pt-5 left-photo-containter">
            <img class="rounded-circle left-nav-photo" src="{{avatarURL}}" alt="Profile photo of {{user.username}}" />
            <small class="align-self-endlevel bg-blue text-white text-center px-4 py-1" id="user-level-1">1</small>
        </div>
        <h5 class="text-center mt-3">{{user.username}}</h5>
        <div class="level mt-3">
            <div class="d-flex flex-row">
                <small>Level 1</small>
                <small class="ml-auto">{{user.exp}}/10 exp</small>
            </div>
            <div class="progress">
                <div class="progress-bar progress-bar-striped" role="progressbar" style="width: 70%" aria-valuenow="7" aria-valuemin="0" aria-valuemax="10"></div>
            </div>
        </div>
        <div class="mt-5 nav flex-column nav-pills nav-left-blog">
            <a class="nav-link active" href="./index.html" aria-selected="true">Weekly Report</a>
            <a class="nav-link" href="./admin.html" aria-selected="false">Admin</a>
            <div class="d-flex">
                <a class="nav-link" href="#sub-project-list" data-toggle="collapse">Projects</a>
                <button type="button" class="ml-auto btn btn-primary btn-sm align-self-center py-2" data-toggle="modal" data-target="#addProjectModal">+ ADD PROJECT</button>
            </div>
            <div class="collapse show" id="sub-project-list">
                <div class="nav flex-column nav-pills">
                    <a class="nav-link" href="./report.html">Planning and Reporting</a>
                    <a class="nav-link" href="#">Fitness Tracker</a>
                    <a class="nav-link" href="#">1D Pointing App</a>
                </div>
            </div>
            <a class="nav-link" href="./Reporting/index.html" aria-selected="false">Leaderboard</a>
            <div class="d-flex flex-row">
                <h5 class="nav-link">Contact</h5>
                <button type="button" class="btn rounded-circle phone-row" data-toggle="modal" data-target="#editProfileModal">
                    <i class="text-muted fa fa-edit"></i>
                </button>
            </div>
            <div class="d-flex flex-row phone-row mb-3 ml-3">
                <div class="bg-blue rounded-circle mr-2"><i class="fa fa-phone text-white text-center p-2"></i></div>
                <a href="tel:{{user.phone_number}}" class="align-self-center">{{user.phone_number}}</a>
            </div>
            <div class="d-flex flex-row phone-row mb-3 ml-3">
                <div class="bg-blue rounded-circle mr-2"><i class="fa fa-at text-white text-center p-2"></i></div>
                <a href="mailto:{{user.email}}" class="align-self-center">{{user.email}}</a>
            </div>
            <div class="d-flex flex-row phone-row mb-3 ml-3">
                <div class="bg-green rounded-circle mr-2">
                    <i class="fab fa-weixin text-white text-center p-2"></i>
                </div>
                {{user.wechat_id}}
            </div>
            <div class="d-flex flex-row social-media-row ml-3 mt-2">
                <a class="bg-green rounded-circle mr-2" href="https://line.me/R/ti/p/{{user.line_id}}"><i class="fab fa-line text-white text-center p-2"></i></a>
                <a class="bg-blue rounded-circle mr-2" href="skype:fitrakun?call"><i class="fab fa-skype text-white text-center p-2"></i></a>
            </div>
        </div>
    </div>
    <!-- Right Parts-->
    <div class="col-md-9 pt-4 px-4 mb-5">
        {% block content %} {% end %}
    </div>


    <!-- Edit Profile Modal -->
    <div class="modal fade" id="editProfileModal" tabindex="-1" role="dialog" aria-labelledby="editProfileModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editProfileModalLabel">Edit Profile Information</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
                </div>
                <div class="modal-body">
                    <form role="form" action="/newblog/profileedit" method="post" enctype="multipart/form-data">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Photo Profile</label>
                                    <div>
                                        <small class="text-muted">Warning! Your photo profile will be changed including on the <b>members</b> page!</small>
                                    </div>
                                    <div class="custom-file">
                                        <input type="file" name="newphotoprofile" class="custom-file-input" id="customFile" accept="image/*">
                                        <label class="custom-file-label text-truncate" for="customFile">Choose file</label>
                                    </div>
                                    <div class='d-flex justify-content-center pt-5 left-photo-containter d-none'>
                                        <img class='rounded-circle left-nav-photo' src='{{avatarURL}}' alt='Profile photo of {{user.username}}' id='edit-profile-photo' />
                                        <small class='align-self-endlevel bg-blue text-white text-center px-4 py-1' id='user-level-1'>1</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="account-email">Email address</label>
                                    <input type="email" name="newemail" class="form-control" id="account-email" value="{{user.email}}" placeholder="name@example.com">
                                </div>
                                <div class="form-group">
                                    <label for="account-phone-number">Phone number</label>
                                    <input type="tel" name="newphonenumber" class="form-control" id="account-phone-number" value="{{user.phone_number}}" placeholder="+8123456789">
                                </div>
                                <div class="form-group">
                                    <label for="account-wechat-id">WeChat ID</label>
                                    <input type="text" name="newwechatid" class="form-control" id="account-wechat-id" value="{{ user.wechat_id }}">
                                </div>
                                <div class="form-group">
                                    <label for="account-line-id">LINE ID</label>
                                    <input type="text" name="newlineid" class="form-control" id="account-line-id" value="{{ user.line_id }}">
                                </div>
                                <div class="form-group">
                                    <label for="account-skype-id">Skype ID</label>
                                    <input type="text" name="newskypeid" class="form-control" id="skype-id" value="{{user.skype_id}}">
                                </div>
                                <button type="submit" class="btn btn-primary align-self-center">Save changes</button>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>
{% end %} {% end %}